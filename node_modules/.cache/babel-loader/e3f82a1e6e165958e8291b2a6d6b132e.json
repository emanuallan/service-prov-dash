{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nconst clsPrefix = 'cp-react-org-chart-chart-wrapper';\nexport default class ChartWrapper extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      scale: 1,\n      isMove: false,\n      translateX: 0,\n      translateY: 0,\n      originX: 0,\n      originY: 0\n    });\n\n    _defineProperty(this, \"onZoom\", e => {\n      const _this$props = this.props,\n            zoom = _this$props.zoom,\n            maxZoom = _this$props.maxZoom,\n            minZoom = _this$props.minZoom,\n            zoomStep = _this$props.zoomStep;\n      if (!zoom) return;\n      const deltaY = e.deltaY,\n            pageX = e.pageX,\n            pageY = e.pageY;\n      const _this$wrapper = this.wrapper,\n            offsetWidth = _this$wrapper.offsetWidth,\n            offsetHeight = _this$wrapper.offsetHeight;\n      let scale = this.state.scale;\n      const _this$state = this.state,\n            translateX = _this$state.translateX,\n            translateY = _this$state.translateY;\n\n      if (deltaY < 0 && scale < maxZoom) {\n        scale += zoomStep;\n      }\n\n      if (deltaY > 0 && scale > minZoom) {\n        scale -= zoomStep;\n      }\n\n      this.setState({\n        scale,\n        originX: pageX,\n        originY: pageY\n      });\n    });\n\n    _defineProperty(this, \"onMouseDown\", e => {\n      this.toggleMove(true);\n      const pageX = e.pageX,\n            pageY = e.pageY;\n      const _this$state2 = this.state,\n            translateX = _this$state2.translateX,\n            translateY = _this$state2.translateY;\n      this.pageX = pageX;\n      this.pageY = pageY;\n      this.translateX = translateX;\n      this.translateY = translateY;\n    });\n\n    _defineProperty(this, \"onMouseUp\", e => {\n      this.toggleMove(false);\n    });\n\n    _defineProperty(this, \"onMouseMove\", e => {\n      const _this$state3 = this.state,\n            isMove = _this$state3.isMove,\n            scale = _this$state3.scale;\n      if (!isMove) return;\n      const pageX = e.pageX,\n            pageY = e.pageY;\n      const x = (pageX - this.pageX) / scale + this.translateX;\n      const y = (pageY - this.pageY) / scale + this.translateY;\n      this.setState({\n        translateX: x,\n        translateY: y\n      });\n    });\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousemove', this.onMouseMove);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousemove', this.onMouseMove);\n  }\n\n  toggleMove(isMove) {\n    this.setState({\n      isMove\n    });\n  }\n\n  getProps() {\n    const _this$props2 = this.props,\n          zoom = _this$props2.zoom,\n          pan = _this$props2.pan;\n    const props = {};\n\n    if (zoom) {\n      props.onWheel = this.onZoom;\n    }\n\n    if (pan) {\n      props.onMouseUp = this.onMouseUp;\n      props.onMouseDown = this.onMouseDown;\n      props.onMouseMove = this.onMouseMove;\n    }\n\n    return props;\n  }\n\n  render() {\n    const children = this.props.children;\n    const _this$state4 = this.state,\n          scale = _this$state4.scale,\n          translateX = _this$state4.translateX,\n          translateY = _this$state4.translateY,\n          isMove = _this$state4.isMove,\n          originX = _this$state4.originX,\n          originY = _this$state4.originY;\n    const cursor = isMove ? 'move' : 'default';\n    const props = this.getProps();\n    return React.createElement(\"div\", {\n      className: clsPrefix,\n      style: {\n        overflow: 'hidden'\n      }\n    }, React.createElement(\"div\", _extends({\n      ref: node => {\n        this.wrapper = node;\n      },\n      style: {\n        cursor,\n        transform: \"scale(\".concat(scale, \") translate(\").concat(translateX, \"px, \").concat(translateY, \"px)\"),\n        transformOrigin: \"\".concat(originX, \"px \").concat(originY, \"px\")\n      },\n      className: \"chart-wrapper-main\"\n    }, props), children));\n  }\n\n}\n\n_defineProperty(ChartWrapper, \"propTypes\", {});\n\n_defineProperty(ChartWrapper, \"defaultProps\", {\n  maxZoom: 2,\n  minZoom: 0.5,\n  zoomStep: 0.03\n});","map":{"version":3,"sources":["/Users/aserna/Desktop/service-prov-dash/src/lib/ChartWrapper.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","clsPrefix","ChartWrapper","PureComponent","constructor","args","scale","isMove","translateX","translateY","originX","originY","e","props","zoom","maxZoom","minZoom","zoomStep","deltaY","pageX","pageY","wrapper","offsetWidth","offsetHeight","state","setState","toggleMove","x","y","componentDidMount","document","addEventListener","onMouseMove","componentWillUnmount","removeEventListener","getProps","pan","onWheel","onZoom","onMouseUp","onMouseDown","render","children","cursor","createElement","className","style","overflow","ref","node","transform","transformOrigin"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nconst clsPrefix = 'cp-react-org-chart-chart-wrapper';\nexport default class ChartWrapper extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      scale: 1,\n      isMove: false,\n      translateX: 0,\n      translateY: 0,\n      originX: 0,\n      originY: 0\n    });\n\n    _defineProperty(this, \"onZoom\", e => {\n      const {\n        zoom,\n        maxZoom,\n        minZoom,\n        zoomStep\n      } = this.props;\n      if (!zoom) return;\n      const {\n        deltaY,\n        pageX,\n        pageY\n      } = e;\n      const {\n        offsetWidth,\n        offsetHeight\n      } = this.wrapper;\n      let {\n        scale\n      } = this.state;\n      const {\n        translateX,\n        translateY\n      } = this.state;\n\n      if (deltaY < 0 && scale < maxZoom) {\n        scale += zoomStep;\n      }\n\n      if (deltaY > 0 && scale > minZoom) {\n        scale -= zoomStep;\n      }\n\n      this.setState({\n        scale,\n        originX: pageX,\n        originY: pageY\n      });\n    });\n\n    _defineProperty(this, \"onMouseDown\", e => {\n      this.toggleMove(true);\n      const {\n        pageX,\n        pageY\n      } = e;\n      const {\n        translateX,\n        translateY\n      } = this.state;\n      this.pageX = pageX;\n      this.pageY = pageY;\n      this.translateX = translateX;\n      this.translateY = translateY;\n    });\n\n    _defineProperty(this, \"onMouseUp\", e => {\n      this.toggleMove(false);\n    });\n\n    _defineProperty(this, \"onMouseMove\", e => {\n      const {\n        isMove,\n        scale\n      } = this.state;\n      if (!isMove) return;\n      const {\n        pageX,\n        pageY\n      } = e;\n      const x = (pageX - this.pageX) / scale + this.translateX;\n      const y = (pageY - this.pageY) / scale + this.translateY;\n      this.setState({\n        translateX: x,\n        translateY: y\n      });\n    });\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousemove', this.onMouseMove);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousemove', this.onMouseMove);\n  }\n\n  toggleMove(isMove) {\n    this.setState({\n      isMove\n    });\n  }\n\n  getProps() {\n    const {\n      zoom,\n      pan\n    } = this.props;\n    const props = {};\n\n    if (zoom) {\n      props.onWheel = this.onZoom;\n    }\n\n    if (pan) {\n      props.onMouseUp = this.onMouseUp;\n      props.onMouseDown = this.onMouseDown;\n      props.onMouseMove = this.onMouseMove;\n    }\n\n    return props;\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    const {\n      scale,\n      translateX,\n      translateY,\n      isMove,\n      originX,\n      originY\n    } = this.state;\n    const cursor = isMove ? 'move' : 'default';\n    const props = this.getProps();\n    return React.createElement(\"div\", {\n      className: clsPrefix,\n      style: {\n        overflow: 'hidden'\n      }\n    }, React.createElement(\"div\", _extends({\n      ref: node => {\n        this.wrapper = node;\n      },\n      style: {\n        cursor,\n        transform: `scale(${scale}) translate(${translateX}px, ${translateY}px)`,\n        transformOrigin: `${originX}px ${originY}px`\n      },\n      className: \"chart-wrapper-main\"\n    }, props), children));\n  }\n\n}\n\n_defineProperty(ChartWrapper, \"propTypes\", {});\n\n_defineProperty(ChartWrapper, \"defaultProps\", {\n  maxZoom: 2,\n  minZoom: 0.5,\n  zoomStep: 0.03\n});"]},"metadata":{},"sourceType":"module"}